# Trial BI

Trial BI — это система для анализа данных клинических исследований. Предназначена для работы с сырыми данными, собранных в ходе клинических исследований с целью отбора фрагментов данных для получения первичной информации и сохранения этих фрагментов для дальнейшего анализа данных в специализированном ПО.


### Возможности системы

- выбор клинического испытания для получения данных;
- поддержка работы с реляционными базами данных;
- поддержка 4 типов переменных: число, дата, текст и фактор;
- многоуровневая сортировка данных;
- фильтрация данных с несколькими типами фильтров в зависимости от данных в конкретном столбце ("равно", "не равно", "больше", "больше или равно", "меньше", "меньше или равно", "диапазон", "начинается с", "содержит", "оканчивается на", "значения из списка");
- группировка данных по одному или нескольким столбцам;
- расчет описательной статистики для любых типов данных;
- экспорт данных и описательной статистики в файлы *.xlsx.


## Trial BI client

Этот репозиторий содержит только фронт-энд системы. В текущем состоянии он не подключен к какому-либо источнику данных, отображаемые для демонстрационных целей данные генерируются случайным образом. Написан код класса для получения данных от бэкенда, есть возможность дописать код класса для получения данных из файлов, загружаемых локально.


### Технологии
- TypeScript
- Vue 3 + Pinia
- Tailwind CSS
- ExcelJS


### Установка и запуск

```bash
npm install
npm start
```
Скрипты стандартные для проекта на Vue:
```bash
npm run type-check # проверка корректности типов
npm run build # сборка приложения, отправляется в папку dist
```
Для наиболее сложных классов (фильтрация данных и расчет описательной статистики) написаны тесты, находящиеся в папке `__tests__`. Запуск тестов:
```bash
npm run test
```

### Структура

Приложение построено по принципу SPA, и имеет один экран для работы с данными (файл `src/App.vue`). Основные компоненты приложения:
- модальное окно выбора данных: `src/components/QueryEditOverlay.vue`
- таблица с данными: `src/components/QueryResultTable.vue`
- список столбцов: `src/components/QueryList.vue`
- список фильтров: `src/components/FilterList.vue`
- таблица с описательной статистикой: `src/components/StatisticsTable.vue`
- модальное окно агрегации данных: `src/components/GroupingOverlay.vue`


### Предполагаемый путь пользователя

1. Выбрать исследование в верхнем правом углу экрана и нажать на кнопку «Новый запрос».
2. Выбрать столбцы с данными для отображения.
3. Применить к данным фильтрацию, сортировку и группировку; при необходимости изменить исходный запрос, отменить изменения или составить новый запрос данных.
4. Получить описательную статистику по интересующим пользователя столбцам.
5. Сохранить модифицированную таблицу с данными и таблицы с описательной статистикой на компьютер пользователя в формате *.xlsx.

